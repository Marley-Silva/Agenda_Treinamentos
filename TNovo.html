<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

        <script>
            // Carrega o menu
            fetch('cabecalhoAdmin.html')
            .then(resp => resp.text())
            .then(html => document.getElementById('menu').innerHTML= html)
        </script>

        <script>
            // Carrega o rodapé
            fetch('rodape.html')
            .then(resp => resp.text())
            .then(html => document.getElementById('pe').innerHTML= html)
        </script>

        <title>Treinamentos</title>
    </head>
    <body>

        <!--Cabecalho-->
        <div id="menu"></div>

        <!-- Área do Formulário -->
        <main class="container my-5">
            <form id="treinoForm" novalidate>
                <h2 class="mb-4 text-primary fw-bold text-center">Adicionar Treinamento</h2>

                <!-- Título -->
                <div class="mb-3">
                    <label for="titulo" class="form-label">Título</label>
                    <input type="text" class="form-control" id="titulo" placeholder="Digite o nome do treinamento" required>
                    <div class="invalid-feedback">Por favor, informe o título.</div>
                </div>

                <!-- Data -->
                <div class="mb-3">
                    <label for="data" class="form-label">Data</label>
                    <input type="date" class="form-control" id="data" required>
                    <div class="invalid-feedback">Por favor, informe a data.</div>
                </div>

                <!-- Horário -->
                <div class="mb-3">
                    <label for="horario" class="form-label">Horário</label>
                    <input type="time" class="form-control" id="horario" required>
                    <div class="invalid-feedback">Por favor, informe o horário.</div>
                </div>

                <!-- Instrutor -->
                <div class="mb-3">
                    <label for="instrutor" class="form-label">Instrutor</label>
                    <input type="text" class="form-control" id="instrutor" placeholder="Digite o nome do instrutor(a)" required>
                    <div class="invalid-feedback">Por favor, informe o instrutor.</div>
                </div>

                <!-- Tipo -->
                <div class="mb-3">
                    <label for="tipo" class="form-label">Tipo</label>
                    <select name="tipo" id="tipo" class="form-select">
                        <option value="" selected disabled>Selecione o tipo</option>
                        <option value="interno">Interno</option>
                        <option value="externo">Externo</option>
                    </select>
                    <div class="invalid-feedback">Por favor, selecione o tipo.</div>
                </div>

                <!-- Botão de enviar os dados -->
                <div>
                    <button type="submit" id="btnAdicionar" class="btn btn-primary mt-3 w-100 py-2 fw-bold">Adicionar</button>
                </div>
            </form>
            <script>
                document.addEventListener('DOMContentLoaded', function () {
                    const form = document.getElementById('treinoForm');
                    const titulo = document.getElementById('titulo');
                    const data = document.getElementById('data');
                    const horario = document.getElementById('horario');
                    const instrutor = document.getElementById('instrutor');
                    const tipo = document.getElementById('tipo');

                    function markInvalid(el) {
                        el.classList.add('is-invalid');
                        const label = document.querySelector('label[for="' + el.id + '"]');
                        if (label) label.classList.add('text-danger');
                    }

                    function markValid(el) {
                        el.classList.remove('is-invalid');
                        const label = document.querySelector('label[for="' + el.id + '"]');
                        if (label) label.classList.remove('text-danger');
                    }

                    form.addEventListener('submit', function (e) {
                        e.preventDefault();
                        let valid = true;

                        // reset
                        [titulo, data, horario, instrutor, tipo].forEach(el => markValid(el));

                        if (!titulo.value.trim()) { valid = false; markInvalid(titulo); }
                        if (!data.value) { valid = false; markInvalid(data); }
                        if (!horario.value) { valid = false; markInvalid(horario); }
                        if (!instrutor.value.trim()) { valid = false; markInvalid(instrutor); }
                        if (!tipo.value) { valid = false; markInvalid(tipo); }

                        if (valid) {
                            // aqui você pode enviar os dados ao servidor (fetch). Por enquanto, redireciona para home.
                            window.location.href = 'homeAdmin.html';
                        }
                    });
                });
            </script>
        </main>

        <!--Rodapé-->
        <div id="pe" class="position-absolute bottom-0 start-50 translate-middle-x col-12"></div>
    </body>
</html>